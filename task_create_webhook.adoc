---
sidebar: sidebar 
permalink: task_create_webhook.html 
keywords: webhook, notification, slack, integration 
summary: Crear monitores para alertar sobre los umbrales de rendimiento o inventario 
---
= Notificación mediante webhooks
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ./media/


[role="lead"]
Los webhooks permiten a los usuarios enviar notificaciones de alerta a varias aplicaciones utilizando un canal webhook personalizado.

Muchas aplicaciones comerciales admiten webhooks como interfaz de entrada estándar; por ejemplo: Slack, PagerDuty, Teams y Discord admiten webhooks.  Al admitir un canal webhook genérico y personalizable, Data Infrastructure Insights puede soportar muchos de estos canales de distribución.  Puede encontrar información sobre webhooks en estos sitios web de aplicaciones.  Por ejemplo, Slack ofrecelink:https://api.slack.com/messaging/webhooks["Esta útil guía"] .

Puede crear múltiples canales webhook, cada uno destinado a un propósito diferente: aplicaciones independientes, destinatarios diferentes, etc.

La instancia del canal webhook se compone de los siguientes elementos:

|===


| Nombre | Nombre único 


| URL | URL de destino del webhook, incluido el prefijo _http://_ o _https://_ junto con los parámetros de URL 


| Método | GET, POST - El valor predeterminado es POST 


| Encabezado personalizado | Especifique aquí cualquier línea de encabezado personalizada 


| Cuerpo del mensaje | Coloque el cuerpo de su mensaje aquí 


| Parámetros de alerta predeterminados | Enumera los parámetros predeterminados para el webhook 


| Parámetros y secretos personalizados | Los parámetros y secretos personalizados le permiten agregar parámetros únicos y elementos seguros como contraseñas. 
|===


== Creación de un webhook

Para crear un webhook de Data Infrastructure Insights , vaya a *Admin > Notificaciones* y seleccione la pestaña *Webhooks*.

La siguiente imagen muestra un ejemplo de webhook configurado para Slack:

image:Webhook_Example_Slack.png["Ejemplo de webhook"]

Ingrese la información apropiada para cada uno de los campos y haga clic en "Guardar" cuando haya terminado.

También puede hacer clic en el botón "Probar webhook" para probar la conexión.  Tenga en cuenta que esto enviará el "Cuerpo del mensaje" (sin sustituciones) a la URL definida según el método seleccionado.

Los webhooks de Data Infrastructure Insights comprenden una serie de parámetros predeterminados.  Además, puedes crear tus propios parámetros o secretos personalizados.

image:Webhook_Default_Parameters.png["Parámetros de webhook predeterminados de Data Infrastructure Insights"]



=== Parámetros: ¿Qué son y cómo los uso?

Los parámetros de alerta son valores dinámicos que se completan por cada alerta.  Por ejemplo, el parámetro _%%TriggeredOn%%_ se reemplazará con el objeto en el que se activó la alerta.

Puede agregar cualquier atributo de objeto (por ejemplo, nombre de almacenamiento) como parámetro a un webhook.  Por ejemplo, puede establecer parámetros para el nombre del volumen y el nombre del almacenamiento en una descripción de webhook como: "Alta latencia para volumen: _%%relatedObject.volume.name%%_, Almacenamiento: _%%relatedObject.storage.name%%_".

Tenga en cuenta que en esta sección, las sustituciones _no_ se realizan al hacer clic en el botón "Probar webhook"; el botón envía una carga útil que muestra las _%%_ sustituciones pero no las reemplaza con datos.



=== Parámetros y secretos personalizados

En esta sección puedes agregar cualquier parámetro personalizado y/o secretos que desees.  Por razones de seguridad, si se define un secreto, solo el creador del webhook puede modificar este canal del webhook.  Es de sólo lectura para otros.  Puedes usar secretos en URL/encabezados como _%%<secret_name>%%_.



=== Página de lista de webhooks

En la página de lista de Webhooks, se muestran los campos Nombre, Creado por, Creado el, Estado, Seguro y Último informe.



== Cómo elegir la notificación de webhook en un monitor

Para elegir la notificación de webhook en unlink:task_create_monitor.html["supervisión"] , vaya a *Alertas > Administrar monitores* y seleccione el monitor deseado o agregue un nuevo monitor.  En la sección _Configurar notificaciones del equipo_, elija _Webhook_ como método de entrega.  Seleccione los niveles de alerta (Crítico, Advertencia, Resuelto) y luego elija el webhook deseado.

image:Webhook_Monitor_Notify.png["Notificación del monitor de webhook"]



== Ejemplos de webhooks:

Webhooks paralink:task_webhook_example_slack.html["Flojo"] Webhooks paralink:task_webhook_example_pagerduty.html["PagerDuty"] Webhooks paralink:task_webhook_example_teams.html["Equipos"] Webhooks paralink:task_webhook_example_discord.html["Discordia"]
