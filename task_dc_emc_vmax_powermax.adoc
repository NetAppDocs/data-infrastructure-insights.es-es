---
sidebar: sidebar 
permalink: task_dc_emc_vmax_powermax.html 
keywords: data collector, EMC, DELL, vmax, powermax 
summary: Configuración del recopilador de datos de la familia de dispositivos Dell EMC VMAX y PowerMax. 
---
= Recopilador de datos de la familia de dispositivos Dell EMC VMAX y PowerMax
:hardbreaks:
:allow-uri-read: 


[role="lead"]
Data Infrastructure Insights descubre matrices de almacenamiento EMC VMAX y PowerMax mediante el uso de comandos symcli de Solutions Enabler junto con un servidor de Solutions Enabler existente en su entorno.  El servidor Solutions Enabler existente tiene conectividad con la matriz de almacenamiento VMAX/PowerMax a través del acceso a volúmenes gatekeeper.



== Requisitos

Antes de configurar este recopilador de datos, debe asegurarse de que Data Infrastructure Insights tenga conectividad TCP al puerto 2707 en el servidor Solutions Enabler existente.  Data Infrastructure Insights descubre todas las matrices Symmetrix que son "locales" para este servidor, como se ve en la salida "symcfg list" de ese servidor.

* La aplicación del proveedor EMC Solutions Enabler (CLI) con SMI-S debe estar instalada en el servidor de la unidad de adquisición y la versión debe coincidir o ser anterior a la versión que se ejecuta en el servidor Solutions Enabler.
* Se requiere un archivo {installdir}\EMC\SYMAPI\config\netcnfg configurado correctamente.  Este archivo define los nombres de servicio para los servidores de Solutions Enabler, así como el método de acceso (SECURE / NOSECURE /ANY).
* Si necesita latencia de lectura/escritura en el nivel del nodo de almacenamiento, el proveedor SMI-S debe comunicarse con una instancia en ejecución de la aplicación UNISPHERE for VMAX.
* Dirección IP del servidor de administración de Solutions Enabler
* Permisos de administrador en el servidor Solutions Enabler (SE)
* Nombre de usuario y contraseña de solo lectura para el software SE
* La aplicación UNISPHERE para VMAX debe estar ejecutándose y recopilando estadísticas para las matrices de almacenamiento EMC VMAX y PowerMax administradas por la instalación del proveedor SMI-S.
* Validación de acceso para el rendimiento: en un navegador web en su unidad de adquisición, vaya a _\https://<SMI-S Hostname or IP>:5989/ecomconfig_ donde "SMI-S Hostname or IP" es la dirección IP o el nombre de host de su servidor SMI-S.  Esta URL es para un portal administrativo para el servicio EMC SMI-S (también conocido como "ECOM"): recibirá una ventana emergente de inicio de sesión.
* Los permisos deben declararse en el archivo de configuración del demonio del servidor Solutions Enabler, que normalmente se encuentra aquí: _/var/symapi/config/daemon_users_
+
Aquí hay un archivo de ejemplo con los permisos cisys adecuados.

+
....
root@cernciaukc101:/root
14:11:25 # tail /var/symapi/config/daemon_users
###
###     Refer to the storrdfd(3) man page for additional details.
###
###     As noted above, only authorized users can perform stordaemon control
###     operations (e.g., shutdown).
################################################################################
# smith         storrdfd
cisys storapid <all>
....




== Terminología

Data Infrastructure Insights adquiere la siguiente información de inventario de la fuente de datos EMC VMAX/PowerMax.  Para cada tipo de activo adquirido, se muestra la terminología más común utilizada para este activo.  Al visualizar o solucionar problemas de este recopilador de datos, tenga en cuenta la siguiente terminología:

[cols="2*"]
|===
| Término de proveedor/modelo | Data Infrastructure Insights 


| Disco | Disco 


| Grupo de discos | Grupo de discos 


| Almacenamiento | Almacenamiento de matriz 


| Director | Nodo de almacenamiento 


| Grupo de dispositivos, grupo de recursos de almacenamiento (SRP) | Pool de almacenamiento 


| Dispositivo TDev | Volumen 
|===
Nota: Estas son solo asignaciones de terminología común y es posible que no representen todos los casos de este recopilador de datos.



== Configuración

*Nota:* Si la autenticación de usuario SMI-S no está habilitada, se ignoran los valores predeterminados en el recopilador de datos de Data Infrastructure Insights .

[cols="2*"]
|===
| Campo | Descripción 


| Nombre del servicio | Nombre del servicio como se especifica en el archivo _netcnfg_ 


| Ruta completa a CLI | Ruta completa a la carpeta que contiene la CLI de Symmetrix 


| Dirección IP del host SMI-S | Dirección IP del host SMI-S 
|===


== Configuración avanzada

[cols="2*"]
|===
| Campo | Descripción 


| Intervalo de sondeo de inventario (min) | Intervalo entre sondeos de inventario. El valor predeterminado es 40 minutos. 


| Seleccione “Excluir” o “Incluir” para especificar una lista | Especifique si desea incluir o excluir la lista de matrices a continuación al recopilar datos. 


| Lista de dispositivos de filtro de inventario | Lista separada por comas de ID de dispositivos para incluir o excluir 


| Almacenamiento en caché de conexión | Elija el método de almacenamiento en caché de la conexión: * LOCAL significa que el servicio Cloud Insights Acquisition se ejecuta en el servidor Solutions Enabler, que tiene conectividad de canal de fibra con las matrices Symmetrix que desea descubrir y tiene acceso a los volúmenes del guardián.  Esto podría verse en algunas configuraciones de Unidad de adquisición remota (RAU).  * REMOTE_CACHED es el valor predeterminado y debe usarse en la mayoría de los casos.  Esto utiliza las configuraciones del archivo NETCNFG para conectarse mediante IP al servidor Solutions Enabler, que debe tener conectividad de canal de fibra con las matrices Symmetrix que desea descubrir y tiene acceso a los volúmenes Gatekeeper.  * En el caso de que las opciones REMOTE_CACHED hagan que los comandos CLI fallen, utilice la opción REMOTE.  Tenga en cuenta que esto ralentizará el proceso de adquisición (posiblemente durante horas o incluso días en casos extremos).  Las configuraciones del archivo NETCNFG aún se utilizan para una conexión IP al servidor Solutions Enabler que tiene conectividad de canal de fibra con las matrices Symmetrix que se están descubriendo.  *Nota:* Esta configuración no cambia el comportamiento de Data Infrastructure Insights con respecto a las matrices enumeradas como REMOTAS en la salida "symcfg list".  Data Infrastructure Insights recopila datos solo en los dispositivos que este comando muestra como LOCAL. 


| Protocolo SMI-S | Protocolo utilizado para conectarse al proveedor SMI-S.  También muestra el puerto predeterminado utilizado. 


| Anular puerto SMIS | Si está en blanco, utilice el puerto predeterminado en el campo Tipo de conexión; de lo contrario, ingrese el puerto de conexión a utilizar. 


| Nombre de usuario de SMI-S | Nombre de usuario para el host del proveedor SMI-S 


| Contraseña SMI-S | Nombre de usuario para el host del proveedor SMI-S 


| Intervalo de sondeo de rendimiento (seg.) | Intervalo entre encuestas de rendimiento (predeterminado 1000 segundos) 


| Seleccione 'Excluir' o 'Incluir' para especificar una lista | Especifique si desea incluir o excluir la lista de matrices a continuación al recopilar datos de rendimiento 


| Lista de dispositivos de filtro de rendimiento | Lista separada por comas de ID de dispositivos para incluir o excluir 
|===


== Solución de problemas

Algunas cosas que puedes probar si encuentras problemas con este recopilador de datos:

[cols="2*"]
|===
| Problema: | Prueba esto: 


| Error: La función solicitada no tiene licencia actualmente | Instalar la licencia del servidor SYMAPI. 


| Error: No se encontraron dispositivos | Asegúrese de que los dispositivos Symmetrix estén configurados para ser administrados por el servidor Solutions Enabler: - Ejecute symcfg list -v para ver la lista de dispositivos Symmetrix configurados. 


| Error: No se encontró un servicio de red solicitado en el archivo de servicio | Asegúrese de que el nombre del servicio Solutions Enabler esté definido en el archivo netcnfg para Solutions Enabler.  Este archivo generalmente se encuentra en SYMAPI\config\ en la instalación del cliente de Solutions Enabler. 


| Error: El protocolo de enlace entre el cliente y el servidor remoto falló | Verifique los archivos storsrvd.log* más recientes en el host de Solutions Enabler que estamos intentando descubrir. 


| Error: El nombre común en el certificado de cliente no es válido | Edite el archivo _hosts_ en el servidor de Solutions Enabler para que el nombre de host de la Unidad de adquisición se resuelva en la dirección IP tal como se informa en storsrvd.log en el servidor de Solutions Enabler. 


| Error: La función no pudo obtener memoria | Asegúrese de que haya suficiente memoria libre disponible en el sistema para ejecutar Solutions Enabler 


| Error: Solutions Enabler no pudo proporcionar todos los datos requeridos. | Investigar el estado de salud y el perfil de carga de Solutions Enabler 


| Error: • El comando CLI "symcfg list -tdev" puede devolver datos incorrectos cuando se recopilan con Solutions Enabler 7.x desde un servidor Solutions Enabler 8.x.  • El comando CLI "symcfg list -srp" puede devolver datos incorrectos cuando se recopilan con Solutions Enabler 8.1.0 o anterior desde un servidor Solutions Enabler 8.3 o posterior. | Asegúrese de estar utilizando la misma versión principal de Solutions Enabler 


| Veo errores de recopilación de datos con el mensaje: "código desconocido" | Es posible que vea este mensaje si los permisos no están declarados en el archivo de configuración del demonio del servidor Solutions Enabler (consulte la<<requisitos,Requisitos>> arriba.)  Esto supone que la versión de su cliente SE coincide con la versión de su servidor SE.  Este error también puede ocurrir si el usuario _cisys_ (que ejecuta los comandos de Solutions Enabler) no ha sido configurado con los permisos de demonio necesarios en el archivo de configuración /var/symapi/config/daemon_users.  Para solucionar esto, edite el archivo /var/symapi/config/daemon_users y asegúrese de que el usuario cisys tenga el permiso <all> especificado para el demonio storapid.  Ejemplo: 14:11:25 # tail /var/symapi/config/daemon_users ... cisys storapid <all> 
|===
Información adicional se puede encontrar en ellink:concept_requesting_support.html["Soporte"] página o en ellink:reference_data_collector_support_matrix.html["Matriz de soporte del recopilador de datos"] .
