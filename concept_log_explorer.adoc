---
sidebar: sidebar 
permalink: concept_log_explorer.html 
keywords: logs, monitors, alerts, EMS, 
summary: El Explorador de registros es una herramienta poderosa para investigar problemas a través de diferentes registros del sistema. 
---
= Explorador de registros
:hardbreaks:
:allow-uri-read: 


[role="lead"]
El explorador de registros de Data Infrastructure Insights es una herramienta poderosa para consultar registros del sistema.  Además de ayudar con las investigaciones, también puede guardar una consulta de registro en un Monitor para proporcionar alertas cuando se activen esos desencadenadores de registro particulares.

Para comenzar a explorar los registros, haga clic en *Consultas de registro > +Nueva consulta de registro*.

Seleccione un registro disponible de la lista.

image:LogExplorer_2022.png["Elige tu registro"]


NOTE: Los tipos de registros disponibles para consulta pueden variar según su entorno.  Es posible que con el tiempo se agreguen tipos de registros adicionales.

Puede establecer filtros para refinar aún más los resultados de la consulta.  Por ejemplo, para encontrar todos los mensajes de registro que muestran una falla, configure un filtro para _Mensajes_ que contengan la palabra "falló".


TIP: Puede comenzar a escribir el texto deseado en el campo de filtro; Data Infrastructure Insights le solicitará que cree una búsqueda con comodines que contenga la cadena a medida que escribe.

Los resultados se muestran en un gráfico que muestra la cantidad de instancias de registro en cada período de tiempo mostrado.  Debajo del gráfico se encuentran las propias entradas del registro.  El gráfico y las entradas se actualizan automáticamente según el rango de tiempo seleccionado.

image:LogExplorer_QueryForFailed.png["Ejemplo de consulta que muestra el filtro"]



== Filtración



=== Incluir / Excluir

Al filtrar los registros, puede elegir *incluir* (es decir, "Filtrar a") o *excluir* las cadenas que escribe.  Las cadenas excluidas se muestran en el filtro completado como "NOT <string>".

image:Log_Advanced_Query_Filter_Exclude.png["Filtro de registro que muestra la opción Excluir"]

Los filtros basados en comodines o expresiones (por ejemplo, NO, O, "Ninguno", etc.) se muestran en azul oscuro en el campo de filtro.  Los elementos que seleccione directamente de la lista se muestran en azul claro.


NOTE: En cualquier momento, puede hacer clic en _Crear un monitor de registro_ para crear un nuevo monitor basado en el filtro actual.



=== Filtrado avanzado

Cuando filtra texto o valores de lista en consultas o widgets del panel, a medida que comienza a escribir se le presenta la opción de crear un *filtro comodín* basado en el texto actual.  Al seleccionar esta opción se devolverán todos los resultados que coincidan con la expresión comodín.  También puede crear expresiones usando NOT, AND u OR, o puede seleccionar la opción "Ninguno" para filtrar valores nulos.


NOTE: Asegúrese de guardar su consulta con anticipación y con frecuencia a medida que crea su filtrado.  La consulta avanzada es una entrada de cadena de "formato libre" y pueden ocurrir errores de análisis a medida que se compila.

Eche un vistazo a esta imagen de pantalla que muestra resultados filtrados para una consulta avanzada del registro _logs.kubernetes.event_.  En esta página están sucediendo muchas cosas, que se explican debajo de la imagen:

image:Log_Advanced_Query_ScreenExplained.png["Explicación de la pantalla de consulta avanzada"]

. Esta cadena de consulta avanzada filtra lo siguiente:
+
** Filtrar las entradas de registro con un _motivo_ que incluya la palabra "fallido", pero nada con el motivo específico "FailedMount".
** Incluya cualquiera de aquellas entradas que también incluyan un _metadata.namespace_ que incluya la palabra "monitoring", pero excluya los espacios de nombres específicos de "cm-monitoring" o "eg-monitoring".
+
Tenga en cuenta que en el caso anterior, dado que tanto "cm-monitoring" como "eg-monitoring" contienen un guion ("-"), las cadenas deben incluirse entre comillas dobles o se mostrará un error de análisis.  Las cadenas que no incluyen guiones, espacios, etc. no necesitan estar entre comillas.  En caso de duda, intente poner la cadena entre comillas.



. Los resultados del filtro actual, incluidos los valores de "Filtrar por" Y el filtro de consulta avanzada, se muestran en la lista de resultados.  La lista se puede ordenar por cualquier columna mostrada.  Para mostrar columnas adicionales, seleccione el ícono de "engranaje".
. Se ha ampliado el gráfico para mostrar solo los resultados del registro que ocurrieron dentro de un período de tiempo específico.  El rango de tiempo que se muestra aquí refleja el nivel de zoom actual.  Seleccione el botón _Restablecer zoom_ para restablecer el nivel de zoom al rango de tiempo actual de Data Infrastructure Insights .
. Los resultados del gráfico se han agrupado por el campo _source_.  El gráfico muestra los resultados en cada columna agrupados por colores.  Al pasar el cursor sobre una columna en el gráfico, se mostrarán algunos detalles sobre las entradas específicas.
+
image:Log_Advanced_Query_Group_Detail.png["Detalles agrupados al pasar el mouse"]





==== Filtros de refinación

Puede utilizar lo siguiente para refinar su filtro:

|===


| Filtrar | Qué hace 


| * (Asterisco) | te permite buscar todo 


| ?  (signo de interrogación) | le permite buscar un número específico de caracteres 


| O | le permite especificar múltiples entidades 


| NO | le permite excluir texto de los resultados de búsqueda 


| _Ninguno_ | busca valores NULL en todos los campos 


| No * | busca valores NULL en campos _solo texto_ 
|===
Si encierra una cadena de filtro entre comillas dobles, Insight trata todo lo que esté entre la primera y la última comilla como una coincidencia exacta.  Cualquier carácter especial u operador dentro de las comillas se tratará como literal.  Por ejemplo, filtrar por "*" devolverá resultados que son un asterisco literal; el asterisco no se tratará como un comodín en este caso.  Los operadores OR y NOT también se tratarán como cadenas literales cuando estén entre comillas dobles.

Puede combinar un filtro simple con un filtro de consulta avanzado; el filtro resultante es un "Y" de los dos.



=== La leyenda del gráfico

La _Leyenda_ debajo del gráfico también tiene algunas sorpresas.  Para cada resultado (basado en el filtro actual) que se muestra en la Leyenda, tiene la opción de mostrar solo los resultados de esa línea (Agregar filtro) o de mostrar cualquier resultado que NO sea para esa línea (Agregar filtro de exclusión).  El gráfico y la lista de entradas del registro se actualizan para mostrar resultados según su selección.  Para eliminar este filtrado, abra la Leyenda nuevamente y seleccione la [X] para borrar el filtro basado en Leyenda.

image:Log_Advanced_Query_Legend.png["Leyenda de consulta avanzada que muestra \"Agregar filtro\" para el primer resultado"]



== Detalles del registro

Al hacer clic en cualquier parte de una entrada de registro de la lista, se abrirá un panel de detalles para esa entrada.  Aquí podrás explorar más información sobre el evento.

Haga clic en "Agregar filtro" para agregar el campo seleccionado al filtro actual.  La lista de entradas del registro se actualizará según el nuevo filtro.

Tenga en cuenta que algunos campos no se pueden agregar como filtros; en esos casos, el ícono _Agregar filtro_ no está disponible.

image:LogExplorer_DetailPane.png["Panel de detalles de entrada de registro"]



== Solución de problemas

Aquí encontrará sugerencias para solucionar problemas con consultas de registro.

|===


| *Problema:* | *Prueba esto:* 


| No veo mensajes de "depuración" en mi consulta de registro | No se recopilan mensajes del registro de depuración.  Para capturar los mensajes que desea, cambie la gravedad del mensaje correspondiente a nivel _informativo_, error, alerta, emergencia_ o _aviso_. 
|===