---
sidebar: sidebar 
permalink: task_create_monitor.html 
keywords: monitors, alerts, log, metric, system-defined, system, metric, 
summary: Cree monitores de métricas y registros personalizados para rastrear de forma proactiva el rendimiento de la infraestructura, los umbrales de capacidad y los eventos críticos con alertas y notificaciones automatizadas. 
---
= Alertas con monitores
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ./media/


[role="lead"]
Configure monitores para rastrear umbrales de rendimiento, registrar eventos y anomalías en todos los recursos de su infraestructura. Cree alertas personalizadas para métricas como latencia de escritura de nodos, capacidad de almacenamiento o rendimiento de la aplicación y reciba notificaciones cuando se cumplan estas condiciones.

Los monitores le permiten establecer umbrales en las métricas generadas por objetos de "infraestructura", como almacenamiento, VM, EC2 y puertos, así como para datos de "integración", como los recopilados para Kubernetes, métricas avanzadas de ONTAP y complementos de Telegraf.  Estos monitores _métricos_ le alertan cuando se superan los umbrales de nivel de advertencia o nivel crítico.

También puede crear monitores para activar alertas de nivel de advertencia, crítico o informativo cuando se detecten _eventos de registro_ específicos.

Data Infrastructure Insights proporciona una serie delink:task_system_monitors.html["Monitores definidos por el sistema"] También, dependiendo de su entorno.



== Mejores prácticas de seguridad

Las alertas de Data Infrastructure Insights están diseñadas para resaltar puntos de datos y tendencias de su inquilino, y Data Infrastructure Insights le permite ingresar cualquier dirección de correo electrónico válida como destinatario de la alerta.  Si trabaja en un entorno seguro, tenga especial cuidado de quién recibe la notificación o tiene acceso a la alerta.



== ¿Monitor métrico o de registro?

. Desde el menú Data Infrastructure Insights , haga clic en *Alertas > Administrar monitores*
+
Se muestra la página de lista de Monitores, que muestra los monitores configurados actualmente.

. Para modificar un monitor existente, haga clic en el nombre del monitor en la lista.
. Para agregar un monitor, haga clic en *+ Monitor*.
+
image:Monitor_log_or_metric.png["Elija el sistema o el monitor de registro"]

+
Cuando agrega un nuevo monitor, se le solicita que cree un monitor de métricas o un monitor de registro.

+
** _Metric_ monitorea las alertas sobre desencadenantes relacionados con la infraestructura o el rendimiento
** _Log_ monitorea las alertas sobre la actividad relacionada con el registro


+
Después de elegir el tipo de monitor, se mostrará el cuadro de diálogo Configuración del monitor.  La configuración varía según el tipo de monitor que esté creando.





=== Monitor de métricas

. En el menú desplegable, busque y elija un tipo de objeto y una métrica para monitorear.


Puede configurar filtros para limitar qué atributos de objeto o métricas monitorear.

image:MonitorMetricFilter.png["Filtrado de métricas"]

Al trabajar con datos de integración (Kubernetes, ONTAP Advanced Data, etc.), el filtrado de métricas elimina los puntos de datos individuales o no coincidentes de la serie de datos graficados, a diferencia de los datos de infraestructura (almacenamiento, VM, puertos, etc.) donde los filtros funcionan en el valor agregado de la serie de datos y potencialmente eliminan todo el objeto del gráfico.



==== Monitores multicondición

Puede optar por refinar aún más su monitor de métricas agregando una segunda condición. Simplemente expanda la solicitud "+Agregar condición métrica secundaria" y configure la condición adicional.

image:multi-condition_monitor_second_condition.png["establecer la segunda condición"]

El monitor avisará si se cumplen ambas condiciones.

Tenga en cuenta que solo puede "AND" una segunda condición; no puede elegir alertar sobre una condición O la otra.



==== Definir las condiciones del monitor.

. Después de elegir el objeto y la métrica a monitorear, configure los umbrales de nivel de advertencia y/o nivel crítico.
. Para el nivel _Advertencia_, ingrese 200 para nuestro ejemplo.  La línea discontinua que indica este nivel de advertencia se muestra en el gráfico de ejemplo.
. Para el nivel _Crítico_, ingrese 400.  La línea discontinua que indica este nivel crítico se muestra en el gráfico de ejemplo.
+
El gráfico muestra datos históricos.  Las líneas de nivel de Advertencia y Crítico en el gráfico son una representación visual del Monitor, por lo que puede ver fácilmente cuándo el Monitor podría activar una alerta en cada caso.

. Para el intervalo de ocurrencia, elija _Continuamente_ durante un período de _15 minutos_.
+
Puede elegir activar una alerta en el momento en que se supera un umbral o esperar hasta que el umbral haya estado en superación continua durante un período de tiempo.  En nuestro ejemplo, no queremos recibir una alerta cada vez que el total de IOPS alcance un pico por encima del nivel de Advertencia o Crítico, sino solo cuando un objeto monitoreado exceda continuamente uno de estos niveles durante al menos 15 minutos.

+
image:Monitor_metric_conditions.png["Definir las condiciones del monitor"]





==== Definir el comportamiento de resolución de alertas

Puede elegir cómo se resuelve una alerta del monitor de métricas.  Se le presentan dos opciones:

* Resolver cuando la métrica regrese al rango aceptable.
* Resolver cuando la métrica esté dentro del rango aceptable durante un período de tiempo específico, desde 1 minuto hasta 7 días.




=== Monitor de registro

Al crear un *Monitor de registro*, primero elija qué registro monitorear de la lista de registros disponible.  Luego puedes filtrar según los atributos disponibles como se indica arriba.  También puede elegir uno o más atributos "Agrupar por".


NOTE: El filtro del Monitor de registro no puede estar vacío.

image:Monitor_Group_By_Example.png["Seleccione el registro que desea monitorear, configure un filtro y seleccione agrupar por método, si lo desea"]



==== Definir el comportamiento de alerta

Puede crear el monitor para alertar con un nivel de gravedad _Crítico_, _Advertencia_ o _Informativo_ cuando las condiciones que definió anteriormente ocurran una vez (es decir, inmediatamente) o esperar para alertar hasta que las condiciones ocurran 2 veces o más.



==== Definir el comportamiento de resolución de alertas

Puede elegir cómo se resuelve una alerta del monitor de registro.  Se le presentan tres opciones:

* *Resolver instantáneamente*: La alerta se resuelve inmediatamente sin necesidad de realizar ninguna acción adicional.
* *Resolver según el tiempo*: La alerta se resuelve una vez transcurrido el tiempo especificado
* *Resolver según la entrada del registro*: la alerta se resuelve cuando se produce una actividad de registro posterior.  Por ejemplo, cuando un objeto se registra como "disponible".


image:Monitor_log_monitor_resolution.png["Resolución de alertas"]



=== Monitor de detección de anomalías

. En el menú desplegable, busque y elija un tipo de objeto y una métrica para monitorear.


Puede configurar filtros para limitar qué atributos de objeto o métricas monitorear.

image:AnomalyDetectionMonitorMetricChoosing.png["Filtrado de métricas para la detección de anomalías"]



==== Definir las condiciones del monitor.

. Después de elegir el objeto y la métrica a monitorear, establezca las condiciones bajo las cuales se detecta una anomalía.
+
** Elija si desea detectar una anomalía cuando la métrica elegida *sube por encima* de los límites previstos, *cae por debajo* de esos límites, o *sube por encima o cae por debajo* de los límites.
** Establezca la *sensibilidad* de detección.  *Bajo* (se detectan menos anomalías), *Medio* o *Alto* (se detectan más anomalías).
** Configure las alertas para que sean *Advertencia* o *Crítica*.
** Si lo desea, puede optar por reducir el ruido, ignorando las anomalías cuando la métrica elegida esté por debajo de un umbral que usted establezca.




image:AnomalyDetectionMonitorDefineConditions.png["Definición de las condiciones para activar la detección de anomalías"]



=== Seleccione el tipo de notificación y los destinatarios

En la sección _Configurar notificaciones del equipo_, puede elegir si desea alertar a su equipo por correo electrónico o webhook.

image:Webhook_Choose_Monitor_Notification.png["Elija el método de alerta"]

*Alerta por correo electrónico:*

Especifique los destinatarios de correo electrónico para las notificaciones de alerta.  Si lo desea, puede elegir diferentes destinatarios para las advertencias o alertas críticas.

image:email_monitor_alerts.png["Destinatarios de alertas por correo electrónico"]

*Alerta vía Webhook:*

Especifique los webhooks para las notificaciones de alerta.  Si lo desea, puede elegir diferentes webhooks para advertencias o alertas críticas.

image:Webhook_Monitor_Notifications.png["Alertas de webhook"]


NOTE: Las notificaciones del recopilador de datos de ONTAP tienen prioridad sobre cualquier notificación de monitor específica que sea relevante para el clúster/recopilador de datos.  La lista de destinatarios que configure para el propio recopilador de datos recibirá las alertas del recopilador de datos.  Si no hay alertas de recopilador de datos activas, se enviarán alertas generadas por el monitor a destinatarios específicos del monitor.



=== Establecer acciones correctivas o información adicional

Puede agregar una descripción opcional, así como información adicional y/o acciones correctivas completando la sección *Agregar una descripción de alerta*.  La descripción puede tener hasta 1024 caracteres y se enviará con la alerta.  El campo de información/acción correctiva puede tener hasta 67 000 caracteres y se mostrará en la sección de resumen de la página de destino de la alerta.

En estos campos puede proporcionar notas, enlaces o pasos a seguir para corregir o abordar la alerta.

Puede agregar cualquier atributo de objeto (por ejemplo, nombre de almacenamiento) como parámetro a una descripción de alerta.  Por ejemplo, puede establecer parámetros para el nombre del volumen y el nombre del almacenamiento en una descripción como: "Alta latencia para volumen: _%%relatedObject.volume.name%%_, Almacenamiento: _%%relatedObject.storage.name%%_".

image:Monitors_Alert_Description.png["Acciones correctivas de alerta y descripción"]



=== Guarde su monitor

. Si lo desea, puede agregar una descripción del monitor.
. Dale al Monitor un nombre significativo y haz clic en *Guardar*.
+
Su nuevo monitor se agregará a la lista de monitores activos.





== Lista de monitores

La página Monitor enumera los monitores configurados actualmente y muestra lo siguiente:

* Nombre del monitor
* Estado
* Objeto/métrica que se está monitoreando
* Condiciones del Monitor


Puede optar por pausar temporalmente la monitorización de un tipo de objeto haciendo clic en el menú a la derecha del monitor y seleccionando *Pausa*.  Cuando esté listo para reanudar el monitoreo, haga clic en *Reanudar*.

Puede copiar un monitor seleccionando *Duplicar* en el menú.  Luego puede modificar el nuevo monitor y cambiar el objeto/métrica, el filtro, las condiciones, los destinatarios del correo electrónico, etc.

Si ya no necesita un monitor, puede eliminarlo seleccionando *Eliminar* en el menú.



== Grupos de monitores

La agrupación le permite ver y administrar monitores relacionados.  Por ejemplo, puede tener un grupo de monitores dedicado al almacenamiento en su inquilino o monitores relevantes para una determinada lista de destinatarios.

image:Monitors_GroupList.png["Agrupación de monitores"]

Se muestran los siguientes grupos de monitores.  La cantidad de monitores contenidos en un grupo se muestra junto al nombre del grupo.

* *Todos los monitores* enumera todos los monitores.
* *Monitores personalizados* enumera todos los monitores creados por el usuario.
* *Monitores suspendidos* enumerará todos los monitores del sistema que hayan sido suspendidos por Data Infrastructure Insights.
* Data Infrastructure Insights también mostrará una serie de *Grupos de monitorización del sistema*, que enumerarán uno o más grupos delink:task_system_monitors.html["monitores definidos por el sistema"] , incluidos monitores de infraestructura y carga de trabajo de ONTAP .



NOTE: Los monitores personalizados se pueden pausar, reanudar, eliminar o mover a otro grupo.  Los monitores definidos por el sistema se pueden pausar y reanudar, pero no se pueden eliminar ni mover.



=== Monitores suspendidos

Este grupo solo se mostrará si Data Infrastructure Insights ha suspendido uno o más monitores.  Un monitor puede suspenderse si genera alertas excesivas o continuas.  Si el monitor es un monitor personalizado, modifique las condiciones para evitar la alerta continua y luego reanude el monitoreo.  El monitor se eliminará del grupo Monitores suspendidos cuando se resuelva el problema que causó la suspensión.



=== Monitores definidos por el sistema

Estos grupos mostrarán los monitores proporcionados por Data Infrastructure Insights, siempre que su entorno contenga los dispositivos y/o la disponibilidad de registros requeridos por los monitores.

Los monitores definidos por el sistema no se pueden modificar, mover a otro grupo ni eliminar.  Sin embargo, puede duplicar un monitor del sistema y modificar o mover el duplicado.

Los monitores del sistema pueden incluir monitores para la infraestructura de ONTAP (almacenamiento, volumen, etc.) o cargas de trabajo (es decir, monitores de registro) u otros grupos.  NetApp evalúa constantemente las necesidades de los clientes y la funcionalidad del producto, y actualizará o agregará monitores y grupos del sistema según sea necesario.



=== Grupos de monitores personalizados

Puede crear sus propios grupos para contener monitores según sus necesidades.  Por ejemplo, es posible que desee un grupo para todos los monitores relacionados con el almacenamiento.

Para crear un nuevo grupo de monitores personalizado, haga clic en el botón *"+" Crear nuevo grupo de monitores*.  Ingrese un nombre para el grupo y haga clic en *Crear grupo*.  Se crea un grupo vacío con ese nombre.

Para agregar monitores al grupo, vaya al grupo _Todos los monitores_ (recomendado) y realice una de las siguientes acciones:

* Para agregar un solo monitor, haga clic en el menú a la derecha del monitor y seleccione _Agregar al grupo_.  Seleccione el grupo al que desea agregar el monitor.
* Haga clic en el nombre del monitor para abrir la vista de edición del monitor y seleccione un grupo en la sección _Asociar a un grupo de monitores_.
+
image:Monitors_AssociateToGroup.png["Asociarse al grupo"]



Elimine monitores haciendo clic en un grupo y seleccionando _Eliminar del grupo_ en el menú.  No se pueden eliminar monitores del grupo _Todos los monitores_ o _Monitores personalizados_.  Para eliminar un monitor de estos grupos, debes eliminar el monitor en sí.


NOTE: Quitar un monitor de un grupo no elimina el monitor de Data Infrastructure Insights.  Para eliminar completamente un monitor, selecciónelo y haga clic en _Eliminar_.  Esto también lo elimina del grupo al que pertenecía y ya no está disponible para ningún usuario.

También puede mover un monitor a un grupo diferente de la misma manera, seleccionando _Mover a grupo_.

Para pausar o reanudar todos los monitores de un grupo a la vez, seleccione el menú del grupo y haga clic en _Pausar_ o _Reanudar_.

Utilice el mismo menú para cambiar el nombre o eliminar un grupo.  Eliminar un grupo no elimina los monitores de Data Infrastructure Insights; siguen estando disponibles en _Todos los monitores_.

image:Monitors_PauseGroup.png["Pausar un grupo"]



== Monitores definidos por el sistema

Data Infrastructure Insights incluye una serie de monitores definidos por el sistema tanto para métricas como para registros.  Los monitores del sistema disponibles dependen de los recopiladores de datos presentes en su inquilino.  Debido a eso, los monitores disponibles en Data Infrastructure Insights pueden cambiar a medida que se agregan recopiladores de datos o se modifican sus configuraciones.

Ver ellink:task_system_monitors.html["Monitores definidos por el sistema"] Página para obtener descripciones de los monitores incluidos con Data Infrastructure Insights.



=== Más información

* link:task_view_and_manage_alerts.html["Visualización y desestimación de alertas"]

