---
sidebar: sidebar 
permalink: concept_kubernetes_network_monitoring_and_map.html 
keywords: service map, workloads, 
summary: Presenta las dependencias y los flujos de carga de trabajo de Kubernetes y destaca los problemas de red y rendimiento. 
---
= Monitoreo y mapa del rendimiento de la red de Kubernetes
:hardbreaks:
:allow-uri-read: 


[role="lead"]
La función de monitoreo y mapeo del rendimiento de la red de Kubernetes simplifica la resolución de problemas al mapear las dependencias entre servicios (también llamados cargas de trabajo) y brinda visibilidad en tiempo real de las latencias y anomalías del rendimiento de la red para identificar problemas de rendimiento antes de que afecten a los usuarios.  Esta capacidad ayuda a las organizaciones a reducir los costos generales al analizar y auditar los flujos de tráfico de Kubernetes.

Características principales: • El mapa de carga de trabajo presenta las dependencias y los flujos de carga de trabajo de Kubernetes y resalta los problemas de red y rendimiento.  • Supervisar el tráfico de red entre pods, cargas de trabajo y nodos de Kubernetes; identifica el origen del tráfico y los problemas de latencia.  • Reducir los costos generales mediante el análisis del tráfico de red de ingreso, egreso, entre regiones y entre zonas.

image:workload-map-animated.gif["Ejemplo de mapa de carga de trabajo"]



== Prerrequisitos

Antes de poder usar el Mapa y el Monitoreo del Rendimiento de la Red de Kubernetes, debe haber configurado ellink:task_config_telegraf_agent_k8s.html["Operador de monitorización de Kubernetes de NetApp"] para habilitar esta opción.  Durante la implementación del Operador, seleccione la casilla de verificación "Rendimiento de red y mapa" para habilitarla.  También puede habilitar esta opción navegando a una página de destino de Kubernetes y seleccionando "Modificar implementación".

image:ServiceMap_NKMO_Deployment_Options.png["Seleccionar la opción Mapa durante la parada de NKMO"]



== Monitores

El mapa de carga de trabajo utilizalink:task_create_monitor.html["monitores"] para derivar información.  Data Infrastructure Insights proporciona una serie de monitores Kubernetes predeterminados (tenga en cuenta que estos pueden estar _en pausa_ de manera predeterminada).  Puede _Reanudar_ (es decir, habilitar) los monitores que desee) o puede crear monitores personalizados para objetos de Kubernetes, que el Mapa de carga de trabajo también utilizará.

Puede crear alertas de métricas de Data Infrastructure Insights en cualquiera de los tipos de objetos a continuación.  Asegúrese de que los datos estén agrupados por el tipo de objeto predeterminado.

* kubernetes.workload
* kubernetes.daemonset
* implementación de kubernetes
* kubernetes.cronjob
* kubernetes.job
* conjunto de réplicas de kubernetes
* conjunto con estado de kubernetes
* kubernetes.pod
* tráfico de red kubernetes_l4




== El mapa

El mapa muestra servicios/cargas de trabajo y sus relaciones entre sí.  Las flechas muestran las direcciones del tráfico.  Al pasar el cursor sobre una carga de trabajo, se muestra información resumida de esa carga de trabajo, como puede ver en este ejemplo:

image:ServiceMap_Simple_Example.png["Ejemplo de un mapa de carga de trabajo"]

Los iconos dentro de los círculos representan diferentes tipos de servicios.  Tenga en cuenta que los iconos solo son visibles si los objetos subyacentes tienen<<workload-labels,etiquetas>> .

image:ServiceMap_Icons.png["Explicación de los iconos de servicio"]

El tamaño de cada círculo indica el tamaño del nodo.  Tenga en cuenta que estos tamaños son relativos, el nivel de zoom de su navegador o el tamaño de la pantalla pueden afectar los tamaños reales de los círculos.  De la misma manera, el estilo de línea de tráfico le brinda una vista rápida del tamaño de la conexión; las líneas sólidas en negrita representan mucho tráfico, mientras que las líneas punteadas claras representan poco tráfico.

Los números dentro de los círculos son la cantidad de conexiones externas que el servicio está procesando actualmente.

image:ServiceMap_Node_and_Connection_Legend.png["Leyenda que muestra los tamaños relativos del círculo (nodo) y la conexión"]



== Detalles y alertas de la carga de trabajo

Los círculos que se muestran en color indican una alerta de nivel crítico o de advertencia para la carga de trabajo.  Pase el cursor sobre el círculo para ver un resumen del problema o haga clic en el círculo para abrir un panel deslizable con más detalles.

image:Workload_Map_Slideout_with_Alert.png["Detalles de la carga de trabajo con alertas"]



== Búsqueda y filtrado

Al igual que con otras funciones de Data Infrastructure Insights , puede configurar fácilmente filtros para centrarse en los objetos específicos o los atributos de carga de trabajo que desee.

image:Workload_Map_Filtering.png["Filtrado del mapa de carga de trabajo"]

Del mismo modo, al escribir una cadena en el campo _Buscar_ se resaltarán las cargas de trabajo coincidentes.

image:Workload_Map_Find_Highlighting.png["Al escribir en el cuadro de búsqueda se resaltan las cargas de trabajo"]



== Etiquetas de carga de trabajo

Las etiquetas de carga de trabajo son necesarias si desea que el mapa identifique los tipos de cargas de trabajo que se muestran (es decir, los íconos circulares).  Las etiquetas se derivan de la siguiente manera:

* Nombre del servicio/aplicación que se ejecuta en términos genéricos
* Si la fuente es un pod:
+
** La etiqueta se deriva de la etiqueta de carga de trabajo del pod
** Etiqueta esperada en la carga de trabajo: app.kubernetes.io/component
** Referencia del nombre de la etiqueta: https://kubernetes.io/docs/concepts/overview/working-with-objects/common-labels/[]
** Etiquetas recomendadas:
+
*** Interfaz
*** backend
*** base de datos
*** cache
*** cola
*** Kafka




* Si la fuente es externa al clúster de Kubernetes:
+
** Data Infrastructure Insights intentará analizar el nombre resuelto por DNS para extraer el tipo de servicio.
+
Por ejemplo, con un nombre resuelto por DNS de _s3.eu-north-1.amazonaws.com_, el nombre resuelto se analiza para obtener _s3_ como el tipo de servicio.







== Sumérgete profundamente

Al hacer clic derecho en una carga de trabajo, se le presentan opciones adicionales para explorar más a fondo.  Por ejemplo, desde aquí puedes hacer zoom para ver las conexiones para esa carga de trabajo.

image:Workload_Map_Zoom_Into_Connections.png["Mapa de carga de trabajo Haga clic derecho en Zoom para mostrar las conexiones de la carga de trabajo"]

O puede abrir el panel deslizable de detalles para ver directamente la pestaña _Resumen_, _Red_ o _Pod y almacenamiento_.

image:Workload_Map_Detail_Network_Slideout.png["Ejemplo de pestaña de red deslizable con detalles"]

Finalmente, al seleccionar _Ir a la página de activos_ se abrirá la página de destino de activos detallada para la carga de trabajo.

image:Workload_Map_Asset_Page.png["Página de activos de carga de trabajo"]
